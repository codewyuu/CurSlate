(self.webpackChunk=self.webpackChunk||[]).push([[575],{265:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".tab"),t=document.querySelectorAll(".tab-content"),a=e[0],n=a.getAttribute("data-tab");a.classList.add("active"),document.getElementById(n).classList.add("active"),e.forEach((function(a){a.addEventListener("click",(function(){e.forEach((function(e){return e.classList.remove("active")})),t.forEach((function(e){return e.classList.remove("active")})),a.classList.add("active");var n=a.getAttribute("data-tab"),o=document.getElementById(n);o&&o.classList.add("active")}))}));var o=document.getElementById("is-active"),c=document.getElementById("auto-start"),s=document.getElementById("translate-on-hover"),i=document.getElementById("keyboard-shortcut-activation"),r=document.getElementById("hover-delay-range"),d=document.getElementById("hover-delay-value"),l=document.getElementById("target-language"),u=document.getElementById("auto-detect-language"),m=document.getElementById("translation-provider"),g=document.getElementById("popup-position"),v=document.getElementById("show-source-language"),h=document.getElementById("use-system-notifications"),y=document.getElementById("save-history"),f=document.getElementById("activation-key"),p=document.querySelectorAll(".style-option"),E="minimal";p.forEach((function(e){e.addEventListener("click",(function(){p.forEach((function(e){return e.classList.remove("selected")})),e.classList.add("selected"),E=e.getAttribute("data-style")}))}));var L=document.querySelectorAll(".font-option"),k="medium";function S(){chrome.storage.local.get(["translationHistory"],(function(e){var t=document.getElementById("history-list");t.innerHTML="";var a=e.translationHistory||[];0!==a.length?a.forEach((function(e){var a=document.createElement("div");a.className="history-item";var n=document.createElement("div");n.className="history-languages",n.textContent="".concat(e.sourceLanguage," â†’ ").concat(e.targetLanguage);var o=document.createElement("div");o.className="history-original",o.textContent=e.originalText;var c=document.createElement("div");c.className="history-translation",c.textContent=e.translatedText;var s,i,r,d,l,u,m=document.createElement("div");m.className="history-time",m.textContent=(s=new Date(e.timestamp),i=new Date-s,r=Math.floor(i/1e3),d=Math.floor(r/60),l=Math.floor(d/60),u=Math.floor(l/24),r<60?"Just now":d<60?"".concat(d," minute").concat(d>1?"s":""," ago"):l<24?"".concat(l," hour").concat(l>1?"s":""," ago"):u<7?"".concat(u," day").concat(u>1?"s":""," ago"):s.toLocaleDateString()),a.appendChild(n),a.appendChild(o),a.appendChild(c),a.appendChild(m),t.appendChild(a)})):t.innerHTML='<div class="history-item">No translation history yet.</div>'}))}function b(){var e=document.getElementById("save-btn");e.disabled=!0,e.textContent="Saving...";var t=[];document.querySelectorAll('[id^="lang-"]').forEach((function(e){e.checked&&t.push(e.id.replace("lang-",""))}));var a={isActive:o.checked,autoStart:c.checked,translateOnHover:s.checked,keyboardShortcutActivation:i.checked,hoverDelay:parseInt(r.value),targetLanguage:l.value,autoDetectLanguage:u.checked,sourceLanguages:t,translationProvider:m.value,popupStyle:E,popupPosition:g.value,fontSize:k,showSourceLanguage:v.checked,activationKey:f.value,useSystemNotifications:h.checked,saveHistory:y.checked};chrome.storage.sync.set(a,(function(){if(chrome.runtime.lastError)return console.error("Failed to save settings:",chrome.runtime.lastError),e.textContent="Error Saving!",e.disabled=!1,void setTimeout((function(){e.textContent="Save Settings"}),2e3);chrome.runtime.sendMessage({action:"saveSettings",settings:a},(function(t){!chrome.runtime.lastError&&t&&t.success?e.textContent="Saved!":(console.error("Failed to notify background script:",chrome.runtime.lastError||"Invalid response"),e.textContent="Error Saving!"),e.disabled=!1,setTimeout((function(){e.textContent="Save Settings"}),1500)}))}))}L.forEach((function(e){e.addEventListener("click",(function(){L.forEach((function(e){return e.classList.remove("selected")})),e.classList.add("selected"),k=e.getAttribute("data-size")}))})),r.addEventListener("input",(function(){d.textContent="".concat(r.value,"ms")})),document.getElementById("save-btn").addEventListener("click",b),document.getElementById("reset-btn").addEventListener("click",(function(){confirm("Are you sure you want to reset all settings to default values?")&&chrome.runtime.sendMessage({action:"getSettings",defaults:!0},(function(e){o.checked=e.isActive,c.checked=e.autoStart,s.checked=e.translateOnHover,i.checked=e.keyboardShortcutActivation,r.value=e.hoverDelay,d.textContent="".concat(e.hoverDelay,"ms"),l.value=e.targetLanguage,u.checked=e.autoDetectLanguage,document.querySelectorAll('[id^="lang-"]').forEach((function(t){var a=t.id.replace("lang-","");t.checked=e.sourceLanguages.includes(a)})),m.value=e.translationProvider,p.forEach((function(t){t.classList.remove("selected"),t.getAttribute("data-style")===e.popupStyle&&(t.classList.add("selected"),E=e.popupStyle)})),g.value=e.popupPosition,L.forEach((function(t){t.classList.remove("selected"),t.getAttribute("data-size")===e.fontSize&&(t.classList.add("selected"),k=e.fontSize)})),v.checked=e.showSourceLanguage,f.value=e.activationKey,h.checked=e.useSystemNotifications,b()}))})),document.getElementById("clear-history").addEventListener("click",(function(){confirm("Are you sure you want to clear your translation history?")&&chrome.storage.local.set({translationHistory:[]},(function(){S()}))})),chrome.runtime.sendMessage({action:"getSettings"},(function(e){o.checked=e.isActive,c.checked=e.autoStart,s.checked=e.translateOnHover,i.checked=e.keyboardShortcutActivation,r.value=e.hoverDelay,d.textContent="".concat(e.hoverDelay,"ms"),l.value=e.targetLanguage,u.checked=e.autoDetectLanguage;var t="string"==typeof e.sourceLanguages?e.sourceLanguages.split(","):e.sourceLanguages;document.querySelectorAll('[id^="lang-"]').forEach((function(e){var a=e.id.replace("lang-","");e.checked=t.includes(a)})),m.value=e.translationProvider,p.forEach((function(t){t.classList.remove("selected"),t.getAttribute("data-style")===e.popupStyle&&(t.classList.add("selected"),E=e.popupStyle)})),g.value=e.popupPosition,L.forEach((function(t){t.classList.remove("selected"),t.getAttribute("data-size")===e.fontSize&&(t.classList.add("selected"),k=e.fontSize)})),v.checked=e.showSourceLanguage,f.value=e.activationKey,h.checked=e.useSystemNotifications,S()}))}))}},e=>{e(e.s=265)}]);