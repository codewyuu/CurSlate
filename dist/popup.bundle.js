(self.webpackChunk=self.webpackChunk||[]).push([[887],{213:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("translation-toggle"),t=document.getElementById("target-language"),n=document.getElementById("hover-delay"),o=document.getElementById("options-btn"),i=document.getElementById("save-btn");chrome.runtime.sendMessage({action:"getSettings"},(function(o){e.checked=o.isActive,t.value=o.targetLanguage,n.value=o.hoverDelay.toString()})),e.addEventListener("change",(function(){var t=e.checked;chrome.runtime.sendMessage({action:"setActive",isActive:t})})),i.addEventListener("click",(function(){i.disabled=!0,i.textContent="Saving...";var o={isActive:e.checked,targetLanguage:t.value,hoverDelay:parseInt(n.value)};chrome.runtime.sendMessage({action:"saveSettings",settings:o},(function(e){if(!e||!e.success)return console.error("Failed to save settings in background"),i.textContent="Error!",i.disabled=!1,void setTimeout((function(){i.textContent="Save"}),2e3);chrome.storage.sync.set(o,(function(){if(chrome.runtime.lastError)return console.error("Failed to save settings:",chrome.runtime.lastError),i.textContent="Error!",i.disabled=!1,void setTimeout((function(){i.textContent="Save"}),2e3);i.textContent="Saved!",setTimeout((function(){window.close()}),500)}))})),setTimeout((function(){"Saving..."===i.textContent&&(i.textContent="Error!",i.disabled=!1,setTimeout((function(){i.textContent="Save"}),2e3))}),5e3)})),o.addEventListener("click",(function(){chrome.runtime.openOptionsPage()}))}))}},e=>{e(e.s=213)}]);